"use strict";(self.webpackChunktrash_can=self.webpackChunktrash_can||[]).push([[334],{3334:(k,g,c)=>{c.r(g),c.d(g,{EditorModule:()=>M});var a=c(6895),o=c(433),s=c(5495),f=c(7579),u=c(2722),d=c(5207),t=c(1571),h=c(5175);function C(n,m){if(1&n&&(t.ynx(0),t._UZ(1,"input",16),t.TgZ(2,"label",17),t._uU(3),t.qZA(),t.BQk()),2&n){const e=m.$implicit,i=t.oxw();t.xp6(1),t.s9C("id",e),t.Q6J("value",e),t.xp6(1),t.ekj("selected",i.isOptionSelected(e)),t.Q6J("for",e),t.xp6(1),t.hij(" ",e," ")}}function b(n,m){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onDelete())}),t._uU(1," Delete "),t.qZA()}}let l=(()=>{class n{constructor(e,i,r,p,_){this.fb=e,this.taskService=i,this.router=r,this.route=p,this.location=_,this.optionsPriority=Object.values(d.T8),this.isNew=!0,this.ngUnsubscribe$=new f.x,this.task=new d.iQ,this.taskForm=this.fb.group({description:["",o.kI.required],priority:[d.T8.Sooner,o.kI.required],expirationDate:[""]}),this.task.taskId=this.route.snapshot.params.id,this.task.taskId&&(this.isNew=!1,this.taskService.getTaskById(this.task.taskId).subscribe(P=>{this.task=P,this.taskForm.patchValue({description:this.task.description,priority:this.task.priority})}))}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}onSubmit(){const e=d.iQ.fromJSON(this.taskForm.value);this.isNew?this.taskService.createTask(e).pipe((0,u.R)(this.ngUnsubscribe$)).subscribe(()=>{this.router.navigate(["/tasks"])}):this.taskService.updateTask(this.task.taskId,e).pipe((0,u.R)(this.ngUnsubscribe$)).subscribe(()=>{this.router.navigate(["/tasks"])})}isOptionSelected(e){return this.taskForm.get("priority")?.value===e}onCancel(){this.location.back()}onDelete(){this.taskService.deleteTask(this.task.taskId).subscribe({next:()=>{this.router.navigate(["/"])}})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(o.qu),t.Y36(h.M),t.Y36(s.F0),t.Y36(s.gz),t.Y36(a.Ye))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["tc-editor"]],decls:23,vars:5,consts:[[1,"tc-editor-page"],[1,"tc-editor-form",3,"formGroup","ngSubmit"],[1,"tc-editor-input-wrapper"],["for","description",1,"tc-form-title"],["type","text","id","description","formControlName","description","placeholder","Buy shoes for running...",1,"tc-editor-textarea"],[1,"tc-editor-input-wrapper","tc-editor-input-radio"],[1,"tc-form-title"],[1,"tc-editor-input-radio-options"],[4,"ngFor","ngForOf"],["for","expirationDate",1,"tc-form-title"],[1,"tc-form-descriptor"],["type","date","id","expirationDate","formControlName","expirationDate","placeholder","Date"],[1,"tc-editor-button-container"],["type","button","class","tc-editor-button",3,"click",4,"ngIf"],["type","button",1,"tc-editor-button",3,"click"],["type","submit",1,"tc-editor-button","tc-editor-button-submit",3,"disabled"],["type","radio","formControlName","priority",3,"value","id"],[1,"tag",3,"for"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(2,"div",2)(3,"label",3),t._uU(4,"What do you want to do? "),t.qZA(),t._UZ(5,"textarea",4),t.qZA(),t.TgZ(6,"div",5)(7,"label",6),t._uU(8,"Priority"),t.qZA(),t.TgZ(9,"div",7),t.YNc(10,C,4,6,"ng-container",8),t.qZA()(),t.TgZ(11,"div",2)(12,"label",9),t._uU(13,"Expiration date "),t.qZA(),t.TgZ(14,"p",10),t._uU(15," On this date task will silently discard itself. Think about when it would not matter anymore. "),t.qZA(),t._UZ(16,"input",11),t.qZA(),t.TgZ(17,"div",12),t.YNc(18,b,2,0,"button",13),t.TgZ(19,"button",14),t.NdJ("click",function(){return r.onCancel()}),t._uU(20," Cancel "),t.qZA(),t.TgZ(21,"button",15),t._uU(22),t.qZA()()()()),2&i&&(t.xp6(1),t.Q6J("formGroup",r.taskForm),t.xp6(9),t.Q6J("ngForOf",r.optionsPriority),t.xp6(8),t.Q6J("ngIf",!r.isNew),t.xp6(3),t.Q6J("disabled",r.taskForm.invalid),t.xp6(1),t.hij(" ",r.isNew?"Add Task":"Update"," "))},dependencies:[a.sg,a.O5,o._Y,o.Fj,o._,o.JJ,o.JL,o.sg,o.u],styles:[".tc-editor-page[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:100%}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%]   .tc-form-title[_ngcontent-%COMP%]{font-weight:500;padding:.5rem 0;font-size:1.1rem}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%]   .tc-form-descriptor[_ngcontent-%COMP%]{font-weight:300;line-height:150%;color:#828282;font-size:.9rem;margin-bottom:1rem}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{padding:.4rem;color:#828282;font-weight:400}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%]   .tc-editor-textarea[_ngcontent-%COMP%]{height:7rem;padding:.5rem;resize:none}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%]   .tc-editor-textarea[_ngcontent-%COMP%]::placeholder{color:#828282;font-weight:400}.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%]   .tc-editor-textarea[_ngcontent-%COMP%], .tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]   .tc-editor-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:.5rem}@media only screen and (min-width: 768px){.tc-editor-page[_ngcontent-%COMP%]   .tc-editor-form[_ngcontent-%COMP%]{max-width:30rem;border:#e0e0e0 1px solid;border-radius:1rem;padding:4rem 5rem;min-width:700px}}@media only screen and (min-width: 768px){.tc-editor-page[_ngcontent-%COMP%]{justify-content:center;height:90vh;padding:initial}}.tc-editor-input-radio[_ngcontent-%COMP%]   .tc-editor-input-radio-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100%;justify-content:space-between}@media only screen and (min-width: 768px){.tc-editor-input-radio[_ngcontent-%COMP%]   .tc-editor-input-radio-options[_ngcontent-%COMP%]{flex-direction:row}}.tc-editor-input-radio[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{border-radius:.5rem;border:#e0e0e0 1px solid;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#828282;font-weight:400;font-size:.9rem;padding:.5rem 0;text-align:center;flex-grow:1}.tc-editor-input-radio[_ngcontent-%COMP%]   .tag.selected[_ngcontent-%COMP%]{background-color:#000;color:#fff}.tc-editor-input-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.tc-editor-input-radio[_ngcontent-%COMP%]   .tc-editor-input-radio[_ngcontent-%COMP%]{display:flex;gap:.3rem}.tc-editor-button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1rem}.tc-editor-button-container[_ngcontent-%COMP%]   .tc-editor-button[_ngcontent-%COMP%]{background-color:#e0e0e0;border-radius:.5rem;border:none;padding:.8rem 3rem;font-weight:500;font-size:1.1rem}.tc-editor-button-container[_ngcontent-%COMP%]   .tc-editor-button-submit[_ngcontent-%COMP%]{background-color:#000;color:#fff}.tc-editor-button-container[_ngcontent-%COMP%]   .tc-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer}.tc-editor-button-container[_ngcontent-%COMP%]   .tc-editor-button-submit[_ngcontent-%COMP%]:disabled{cursor:not-allowed;background-color:#828282}@media only screen and (min-width: 768px){.tc-editor-button-container[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:flex-end;gap:1rem}}"]})}return n})();const O=[{path:"",component:l},{path:":id",component:l}];let M=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[a.ez,s.Bz.forChild(O),o.UX]})}return n})()}}]);