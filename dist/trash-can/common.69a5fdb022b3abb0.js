"use strict";(self.webpackChunktrash_can=self.webpackChunktrash_can||[]).push([[592],{4267:(P,h,e)=>{e.d(h,{W:()=>u});var r=e(6895),t=e(1571),i=e(5207);const s=["taskStatus",""];function a(o,g){if(1&o){const n=t.EpF();t.TgZ(0,"button",4),t.NdJ("click",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.resolve(p.status.Rejected))}),t._UZ(1,"img",5),t._uU(2," Forget it "),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("disabled",n.taskStatus!==n.status.Created)}}function c(o,g){if(1&o){const n=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(n);const p=t.oxw();return t.KtG(p.resolve(p.status.Resolved))}),t._UZ(1,"img",7),t._uU(2," I did it "),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("disabled",n.taskStatus!==n.status.Created)}}function v(o,g){if(1&o&&(t.TgZ(0,"p",8),t._uU(1),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.hij(" ","resolved"===n.taskStatus?"Done":"Forgotten"," ")}}let u=(()=>{class o{constructor(){this.resolveEvent=new t.vpe,this.status=i.hY}resolve(n){this.resolveEvent.emit(n)}static#t=this.\u0275fac=function(_){return new(_||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["tc-resolve-buttons","taskStatus",""]],inputs:{taskStatus:"taskStatus"},outputs:{resolveEvent:"resolveEvent"},standalone:!0,features:[t.jDz],attrs:s,decls:5,vars:3,consts:[[1,"tc-card-buttons"],["class","tc-bt-i-did-it tc-table-button",3,"disabled","click",4,"ngIf","ngIfElse"],["class","tc-bt-i-did-it",3,"disabled","click",4,"ngIf"],["statusMarker",""],[1,"tc-bt-i-did-it","tc-table-button",3,"disabled","click"],["src","../../../../assets/icons/discart-little-icon.svg"],[1,"tc-bt-i-did-it",3,"disabled","click"],["src","../../../../assets/icons/i-did-it-mark.svg"],[1,"tc-card-marker"]],template:function(_,p){if(1&_&&(t.TgZ(0,"div",0),t.YNc(1,a,3,1,"button",1),t.YNc(2,c,3,1,"button",2),t.YNc(3,v,2,1,"ng-template",null,3,t.W1O),t.qZA()),2&_){const E=t.MAs(4);t.xp6(1),t.Q6J("ngIf",p.taskStatus===p.status.Created)("ngIfElse",E),t.xp6(1),t.Q6J("ngIf",p.taskStatus===p.status.Created)}},dependencies:[r.ez,r.O5],styles:[".tc-card-buttons[_ngcontent-%COMP%]{grid-area:buttons;justify-self:end;display:flex;flex-direction:row;gap:1rem}.tc-card-marker[_ngcontent-%COMP%]{border:none;color:#828282;font-weight:300;font-size:.8rem}"]})}return o})()},4427:(P,h,e)=>{e.d(h,{J:()=>E});var r=e(6895),t=e(1571),i=e(7579),s=e(2722),a=e(5207),c=e(2246),v=e(4267);const u=["task",""];function o(l,b){if(1&l){const f=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(f);const d=t.oxw();return t.KtG(d.editEvent())}),t._UZ(1,"img",10),t.qZA()}}let g=(()=>{class l{constructor(){this.resolve=new t.vpe,this.edit=new t.vpe,this.status=a.hY}resolveEvent(f){this.resolve.emit(f)}editEvent(){this.edit.emit()}static#t=this.\u0275fac=function(m){return new(m||l)};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["tc-task-view","task",""]],inputs:{task:"task"},outputs:{resolve:"resolve",edit:"edit"},standalone:!0,features:[t.jDz],attrs:u,decls:11,vars:5,consts:[[1,"tc-card"],[1,"tc-card-edit"],["class","tc-card-edit-button",3,"click",4,"ngIf"],[1,"tc-card-text"],[1,"tc-card-priority"],[1,"tc-card-priority-marker",3,"tcPriorityColor"],[1,"tc-card-priority-text"],[1,"tc-card-buttons"],[3,"taskStatus","resolveEvent"],[1,"tc-card-edit-button",3,"click"],["src","../../../../assets/icons/pajamas_pencil.svg"]],template:function(m,d){1&m&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,o,2,0,"button",2),t.qZA(),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._UZ(6,"div",5),t.TgZ(7,"div",6),t._uU(8),t.qZA()(),t.TgZ(9,"div",7)(10,"tc-resolve-buttons",8),t.NdJ("resolveEvent",function(){return d.resolve}),t.qZA()()()),2&m&&(t.xp6(2),t.Q6J("ngIf",d.task.status===d.status.Created),t.xp6(2),t.hij(" ",null==d.task?null:d.task.description," "),t.xp6(2),t.Q6J("tcPriorityColor",null==d.task?null:d.task.priority),t.xp6(2),t.Oqu(null==d.task?null:d.task.priority),t.xp6(2),t.Q6J("taskStatus",null==d.task?null:d.task.status))},dependencies:[r.ez,r.O5,c.b,v.W],styles:['.tc-card[_ngcontent-%COMP%]{box-shadow:1px 4px .5rem #00000040;border-radius:.5rem;padding:1rem;color:#828282;min-width:100%;min-height:8rem;display:grid;grid-template-columns:2fr 3fr 1fr;grid-template-rows:2fr 1fr;gap:0px 0px;grid-template-areas:"text text edit" "priority buttons buttons"}.tc-card[_ngcontent-%COMP%]   .tc-card-edit[_ngcontent-%COMP%]{grid-area:edit;height:100%;justify-self:end}.tc-card[_ngcontent-%COMP%]   .tc-card-edit[_ngcontent-%COMP%]   .tc-card-edit-button[_ngcontent-%COMP%]{border:none;background-color:transparent;padding:.5rem;position:relative;right:-.5rem;top:-.5rem}.tc-card[_ngcontent-%COMP%]   .tc-card-edit[_ngcontent-%COMP%]   .tc-card-edit-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#ddd;border-radius:100%;transition:ease-out .3s}.tc-card[_ngcontent-%COMP%]   .tc-card-text[_ngcontent-%COMP%]{grid-area:text}.tc-card[_ngcontent-%COMP%]   .tc-card-priority[_ngcontent-%COMP%]{grid-area:priority;align-self:flex-end;display:flex;align-items:center;gap:.4rem}.tc-card[_ngcontent-%COMP%]   .tc-card-priority[_ngcontent-%COMP%]   .tc-card-priority-marker[_ngcontent-%COMP%]{border-radius:100%;height:9px;width:9px}.tc-card[_ngcontent-%COMP%]   .tc-card-priority[_ngcontent-%COMP%]   .tc-card-priority-text[_ngcontent-%COMP%]{font-weight:400;padding-bottom:.1rem}.tc-card-buttons[_ngcontent-%COMP%]{grid-area:buttons;justify-self:self-end;align-self:self-end}@media only screen and (min-width: 768px){.tc-card[_ngcontent-%COMP%]{width:initial}}']})}return l})();var n=e(5175),_=e(5495);const p=["task",""];let E=(()=>{class l{constructor(f,m){this.taskService=f,this.router=m,this.resolve=new t.vpe,this.ngUnsubscribe$=new i.x}resolveEvent(f){this.task.resolveTask(f),this.taskService.updateTask(this.task.taskId,this.task).pipe((0,s.R)(this.ngUnsubscribe$)).subscribe(()=>{this.resolve.emit(this.task)})}onEdit(){this.router.navigate(["/editor/",this.task.taskId])}static#t=this.\u0275fac=function(m){return new(m||l)(t.Y36(n.M),t.Y36(_.F0))};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["tc-task-card","task",""]],inputs:{task:"task"},outputs:{resolve:"resolve"},standalone:!0,features:[t.jDz],attrs:p,decls:1,vars:1,consts:[[3,"task","resolve","edit"]],template:function(m,d){1&m&&(t.TgZ(0,"tc-task-view",0),t.NdJ("resolve",function(O){return d.resolveEvent(O)})("edit",function(){return d.onEdit()}),t.qZA()),2&m&&t.Q6J("task",d.task)},dependencies:[r.ez,g],encapsulation:2})}return l})()},2246:(P,h,e)=>{e.d(h,{b:()=>i});var r=e(5207),t=e(1571);let i=(()=>{class s{constructor(c,v){this.el=c,this.renderer=v,this.colors={[r.T8.Sooner]:"#E1AEAE",[r.T8.Later]:"#FFE68E",[r.T8.MaybeNever]:"#649869"}}ngOnInit(){this.renderer.setStyle(this.el.nativeElement,"backgroundColor",this.colors[this.tcPriorityColor])}static#t=this.\u0275fac=function(v){return new(v||s)(t.Y36(t.SBq),t.Y36(t.Qsj))};static#e=this.\u0275dir=t.lG2({type:s,selectors:[["","tcPriorityColor",""]],inputs:{tcPriorityColor:"tcPriorityColor"},standalone:!0})}return s})()},7188:(P,h,e)=>{e.d(h,{_:()=>v});var r=e(1135),t=e(9841),i=e(9646),s=e(5761),a=e(5207),c=e(1571);let v=(()=>{class u{constructor(){this.searchSubject=new r.X(""),this.search$=this.searchSubject.asObservable(),this.filterSubject=new r.X([a.hY.Created]),this.filter$=this.filterSubject.asObservable(),this.sortSubject=new r.X(s.sk.NewerFirst),this.sort$=this.sortSubject.asObservable(),this.currentPageSubject=new r.X(1),this.currentPage$=this.currentPageSubject.asObservable(),this.totalPagesSubject=new r.X(1),this.totalPages$=this.totalPagesSubject.asObservable(),this.refreshSubject=new r.X(void 0),this.refresh$=this.refreshSubject.asObservable(),this.combined$=(0,t.a)([this.refresh$,this.search$,this.filter$,this.sort$,this.currentPage$])}updateSearch(g){this.currentPageSubject.next(1),this.searchSubject.next(g)}updateFilter(g){this.currentPageSubject.next(1),this.filterSubject.next(g)}updateSort(g){this.currentPageSubject.next(1),this.sortSubject.next(g)}updatePagination(){this.currentPageSubject.getValue()>=1&&this.currentPageSubject.getValue()<this.totalPagesSubject.getValue()&&this.currentPageSubject.next(this.currentPageSubject.getValue()+1)}updatePaginationTotal(g){this.totalPagesSubject.next(g)}refreshQuery(){this.refreshSubject.next()}getPaginationStatus(){return(0,i.of)(!(this.totalPagesSubject.getValue()-this.currentPageSubject.getValue()))}static#t=this.\u0275fac=function(n){return new(n||u)};static#e=this.\u0275prov=c.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},5175:(P,h,e)=>{e.d(h,{M:()=>u});var r=e(8505),t=e(4004),i=e(2715),s=e(5207),a=e(1571),c=e(529),v=e(7188);let u=(()=>{class o{constructor(n,_){this.http=n,this.queryService=_,this.apiUrl=`${i.N.apiBaseUrl}tasks`}getTasks(n,_=[s.hY.Created],p,E){const l=new URLSearchParams;return l.append("filter",_.join(",")),p&&l.append("sort",p),n&&l.append("search",n),E&&l.append("p",E.toString()),this.http.get(this.apiUrl+`?${l.toString()}`).pipe((0,r.b)(b=>this.queryService.updatePaginationTotal(+b.paginationAmount)),(0,t.U)(b=>b.tasks),(0,t.U)(b=>b.map(s.iQ.fromJSON)))}getTaskById(n){return this.http.get(this.apiUrl+`/${n}`).pipe((0,t.U)(s.iQ.fromJSON))}createTask(n){return this.http.post(this.apiUrl,n).pipe((0,t.U)(s.iQ.fromJSON))}updateTask(n,_){return this.http.patch(this.apiUrl+`/${n}`,_).pipe((0,t.U)(s.iQ.fromJSON))}deleteTask(n){return this.http.delete(this.apiUrl+`/${n}`)}static#t=this.\u0275fac=function(_){return new(_||o)(a.LFG(c.eN),a.LFG(v._))};static#e=this.\u0275prov=a.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},5761:(P,h,e)=>{e.d(h,{PE:()=>i,sk:()=>r});var r=(()=>{return(s=r||(r={})).SoonerFirst="priorityAsc",s.SoonerLast="priorityDesc",s.NewerFirst="dateNewerFirst",s.NewerLast="dateOlderFirst",r;var s})(),t=(()=>{return(s=t||(t={})).SoonerFirst="Priority: Sooner first",s.SoonerLast="Priority: Sooner last",s.NewerFirst="Date: Newer first",s.NewerLast="Date: Older first",t;var s})();class i{static#t=this.sortOptions=Object.keys(r).map(a=>new i(r[a],t[a]));constructor(a,c){this.apiName=a,this.displayName=c}}},5207:(P,h,e)=>{e.d(h,{T8:()=>r,hY:()=>t,iQ:()=>i});var r=(()=>{return(s=r||(r={})).Sooner="sooner",s.Later="later",s.MaybeNever="maybe never",r;var s})(),t=(()=>{return(s=t||(t={})).Created="created",s.Resolved="resolved",s.Rejected="rejected",t;var s})();class i{resolveTask(a){this.status=a,this.updateDate=(new Date).toISOString()}static fromJSON(a){if(!a)return;const c=new i;return Object.assign(c,a),c}}},2722:(P,h,e)=>{e.d(h,{R:()=>a});var r=e(4482),t=e(5403),i=e(8421),s=e(5032);function a(c){return(0,r.e)((v,u)=>{(0,i.Xf)(c).subscribe((0,t.x)(u,()=>u.complete(),s.Z)),!u.closed&&v.subscribe(u)})}}}]);